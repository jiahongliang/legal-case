"use strict";(self.webpackChunkweb_console=self.webpackChunkweb_console||[]).push([[643],{7111:function(e,n,t){t.d(n,{Xn:function(){return c},nL:function(){return s}});var a=t(4569),r=t.n(a),l=t(3695),o=t(390),i=t(9201);r().defaults.timeout=6e4,r().defaults.baseURL="/legal-case";var s=r().create({}),c=r().create({contentType:"application/x-www-form-urlencoded;charset=UTF-8",transformRequest:[function(e){var n="";for(var t in e)n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&";return n=n.substring(0,n.lastIndexOf("&"))}],headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}),u=r().create({headers:{"content-type":"multipart/form-data"}});function d(e){var n=(0,o.lX)();e.interceptors.request.use((function(e){return e.headers.token="token",e}),(function(e){Promise.reject(e)})),e.interceptors.response.use((function(e){var n,t=e,a=t.data.code;return a?1e4===a?t.data:(n="".concat(t.data.msg),void f(new Error(n))):t}),(function(e){var t=!1;if(e&&e.response)switch(e.response.status){case 400:e.message="\u8bf7\u6c42\u9519\u8bef";break;case 401:e.message="\u672a\u767b\u5f55\u6216\u767b\u5f55\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",t=!0;break;case 403:e.message="\u62d2\u7edd\u8bbf\u95ee";break;case 404:e.message="\u8bf7\u6c42\u5730\u5740\u51fa\u9519: ".concat(e.response.config.url);break;case 408:e.message="\u8bf7\u6c42\u8d85\u65f6";break;case 500:e.message="\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef";break;case 501:e.message="\u670d\u52a1\u672a\u5b9e\u73b0";break;case 502:e.message="\u7f51\u5173\u9519\u8bef";break;case 503:e.message="\u670d\u52a1\u4e0d\u53ef\u7528";break;case 504:e.message="\u7f51\u5173\u8d85\u65f6";break;case 505:e.message="HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301"}return f(e),t&&setTimeout((function(){sessionStorage.removeItem(i.n),n.push("/"),n.go()}),1e3),Promise.reject(e)}))}function f(e){l.ZP.error(e.message)}d(c),d(s),d(u)},697:function(e,n,t){t.d(n,{BS:function(){return m},EN:function(){return c},Lc:function(){return s},Lg:function(){return v},R5:function(){return o},U7:function(){return l},_l:function(){return h},h9:function(){return d},iE:function(){return r},iQ:function(){return i},id:function(){return p},jE:function(){return u},pV:function(){return f},sA:function(){return Z}});var a=t(7111),r=function(e){return(0,a.nL)({url:"/case-type/list",data:e,method:"post"})},l=function(e){return(0,a.nL)({url:"/case-type/save",data:e,method:"post"})},o=function(e){return(0,a.nL)({url:"/case-type/remove",data:e,method:"post"})},i=function(e){return(0,a.nL)({url:"/case-type-definition/list",data:e,method:"post"})},s=function(e){return(0,a.nL)({url:"/case-execution/create",data:e,method:"post"})},c=function(e){return(0,a.nL)({url:"/case-execution/list",data:e,method:"post"})},u=function(e){return(0,a.nL)({url:"/case-execution/complete",data:e,method:"post"})},d=function(e){return(0,a.nL)({url:"/case-execution/handle",data:e,method:"post"})},f=function(){return(0,a.nL)({url:"/subject/tree",method:"get"})},m=function(e){return(0,a.nL)({url:"/subject/save",data:e,method:"post"})},h=function(e){return(0,a.nL)({url:"/subject/remove",data:e,method:"post"})},p=function(e){return(0,a.nL)({url:"/subject/item-list",data:e,method:"post"})},v=function(e){return(0,a.nL)({url:"/subject/save-item",data:e,method:"post"})},Z=function(e){return(0,a.nL)({url:"/subject/remove-item",data:e,method:"post"})}},6643:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(1413),r=t(9439),l=t(2791),o=t(3272),i=t(3695),s=t(3099),c=t(7309),u=t(6038),d=t(9163),f=t(6106),m=t(914),h=t(6836),p=t(7751),v=t(2862),Z=t(8678),x=t(6110),b=t(1953),g=t(697),j=t(184),y=function(){var e=(0,l.useState)([]),n=(0,r.Z)(e,2),t=n[0],y=n[1],k=(0,l.useState)(null),w=(0,r.Z)(k,2),N=w[0],C=w[1],L=(0,l.useState)(!1),T=(0,r.Z)(L,2),V=T[0],E=T[1],z=o.Z.useForm(),I=(0,r.Z)(z,1)[0],F=(0,l.useState)({}),S=(0,r.Z)(F,2),P=S[0],O=S[1],R=(0,l.useState)([]),q=(0,r.Z)(R,2),B=q[0],H=q[1],U=(0,l.useState)(!1),K=(0,r.Z)(U,2),M=K[0],_=K[1],A=o.Z.useForm(),D=(0,r.Z)(A,1)[0],Q=(0,l.useState)(!1),X=(0,r.Z)(Q,2),G=X[0],J=X[1],W=(0,l.useState)(null),Y=(0,r.Z)(W,2),$=Y[0],ee=Y[1],ne=(0,l.useState)(1),te=(0,r.Z)(ne,2),ae=te[0],re=te[1],le=(0,l.useState)(10),oe=(0,r.Z)(le,2),ie=oe[0],se=oe[1];(0,l.useEffect)((function(){ce()}),[]),(0,l.useEffect)((function(){fe()}),[N]);var ce=function(){(0,g.pV)().then((function(e){e.rows&&e.rows.length>0?y(e.rows.map((function(e){return ue(e,null)}))):y([])}))},ue=function e(n,t){return{title:n.name,key:n.id,parentKey:null==t?null:t.id,parentName:null==t?null:t.name,children:n.children&&n.children.length>0?n.children.map((function(t){return e(t,n)})):[]}},de=[{title:"\u540d\u79f0",dataIndex:"name",onHeaderCell:function(e){e.align="center"},width:200},{title:"\u6cd5\u5f8b\u6761\u6b3e",dataIndex:"lawTitle",onHeaderCell:function(e){e.align="center"}},{title:"\u64cd\u4f5c",key:"action",render:function(e,n){return(0,j.jsxs)(s.Z,{size:"middle",children:[(0,j.jsx)(c.Z,{size:"small",onClick:function(){return me(n)},children:"\u4fee\u6539"}),(0,j.jsx)(u.Z,{placement:"left",title:"\u786e\u5b9a\u5220\u9664\u64cd\u4f5c\u5417\uff1f",onConfirm:function(){return he(n)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:(0,j.jsx)(c.Z,{size:"small",children:"\u5220\u9664"})})]})},align:"center",width:100}],fe=function(){_(!0),N&&N.key?(0,g.id)({entity:{subjectId:N.key}}).then((function(e){H(e.rows),ee(e.total),_(!1)})):(H([]),_(!1))},me=function(e){D.setFieldsValue(e),J(!0)},he=function(e){(0,g.sA)({entity:e}).then((function(e){fe()}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Z,{title:"\u4e13\u9898\u7ba1\u7406",className:"site-page-header",subTitle:"\u7ba1\u7406\u4e13\u9898\u7c7b\u522b\u548c\u5185\u5bb9",avatar:{icon:(0,j.jsx)(x.Z,{})},children:(0,j.jsxs)(f.Z,{gutter:16,className:"case-form-row",justify:"space-between",children:[(0,j.jsxs)(m.Z,{span:8,className:"case-form-area",children:[(0,j.jsxs)("div",{className:"panel-title",children:[(0,j.jsx)("div",{className:"panel-title-text",children:"\u4e13\u9898\u7c7b\u522b"}),(0,j.jsxs)("div",{className:"panel-title-toolbar",children:[(0,j.jsx)(c.Z,{size:"small",className:"panel-title-toolbar-button",onClick:function(){O({parentId:N?N.parentKey:null,id:null}),I.setFieldsValue({parentName:N?N.parentName:null}),E(!0)},children:"\u65b0\u589e\u540c\u7ea7"}),(0,j.jsx)(c.Z,{size:"small",className:"panel-title-toolbar-button",onClick:function(){O({parentId:N?N.key:null,id:null}),I.setFieldsValue({parentName:N?N.title:null}),E(!0)},children:"\u65b0\u589e\u5b50\u9879"}),(0,j.jsx)(c.Z,{size:"small",className:"panel-title-toolbar-button",onClick:function(){N?(O({parentId:N.parentKey,id:N.key}),I.setFieldsValue({parentName:N.parentName,name:N.title}),E(!0)):i.ZP.error("\u6ca1\u6709\u9009\u62e9\u8282\u70b9")},children:"\u4fee\u6539"}),(0,j.jsx)(u.Z,{placement:"right",title:"\u5220\u9664\u64cd\u4f5c\u4f1a\u8fde\u540c\u5220\u9664\u5b50\u7ea7\u8282\u70b9\uff0c\u786e\u8ba4\u5220\u9664\u5417\uff1f",onConfirm:function(){N?(0,g._l)({entity:{id:N.key}}).then((function(e){C(null),ce()})):i.ZP.error("\u6ca1\u6709\u9009\u62e9\u8282\u70b9")},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,j.jsx)(c.Z,{size:"small",className:"panel-title-toolbar-button",children:"\u5220\u9664"})})]})]}),(0,j.jsx)("div",{className:"panel-content",children:(0,j.jsx)(h.Z,{showLine:{showLeafIcon:!1},showIcon:!0,icon:(0,j.jsx)(b.Z,{}),treeData:t,onSelect:function(e,n){C(n.node)}})})]}),(0,j.jsxs)(m.Z,{span:16,className:"case-form-area",children:[(0,j.jsxs)("div",{className:"panel-title",children:[(0,j.jsx)("div",{className:"panel-title-text",children:"\u9879\u76ee\u5217\u8868"}),(0,j.jsx)("div",{className:"panel-title-toolbar",children:(0,j.jsx)(c.Z,{size:"small",className:"panel-title-toolbar-button",onClick:function(){N&&N.key?(D.setFieldsValue({subjectId:N.key}),J(!0)):i.ZP.error("\u8bf7\u9996\u5148\u9009\u62e9\u4e3b\u4f53\u7c7b\u522b\uff01")},children:"\u65b0\u589e\u9879\u76ee"})})]}),(0,j.jsx)("div",{className:"panel-content",children:(0,j.jsx)(p.Z,{columns:de,dataSource:B,loading:M,pagination:{position:["bottomRight"],total:$,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171".concat(e,"\u6761")},size:"small",current:ae,pageSize:ie,onChange:function(e,n,t,a){re(e),se(n),fe()}},scroll:{scrollToFirstRowOnChange:!0,x:!0},bordered:"true",size:"small",rowKey:"id"})})]})]})}),(0,j.jsx)(v.Z,{title:"\u7c7b\u522b\u8be6\u60c5",visible:V,onOk:function(){I.validateFields().then((function(e){var n={id:P.id,name:e.name,parent:{id:P.parentId}};(0,g.BS)({entity:n}).then((function(n){ce(),C((0,a.Z)((0,a.Z)({},N),{},{title:e.name})),O({}),I.setFieldsValue({parentName:null,name:null}),E(!1)}))})).catch((function(e){console.log(e)}))},onCancel:function(){E(!1),O({}),I.setFieldsValue({parentName:null,name:null})},children:(0,j.jsxs)(o.Z,{form:I,layout:"vertical",children:[(0,j.jsx)(o.Z.Item,{name:"parentName",label:"\u7236\u8282\u70b9",children:(0,j.jsx)(Z.Z,{placeholder:"\u7236\u7c7b\u522b\u540d\u79f0",maxLength:50,disabled:!0})}),(0,j.jsx)(o.Z.Item,{name:"name",label:"\u540d\u79f0",rules:[{required:!0,message:"\u540d\u79f0\u5fc5\u987b\u8f93\u5165"}],children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0",maxLength:50})})]})}),(0,j.jsx)(v.Z,{title:"\u7c7b\u522b\u8be6\u60c5",visible:G,onOk:function(){D.validateFields().then((function(e){(0,g.Lg)({entity:e}).then((function(e){fe(),D.resetFields(),J(!1)}))})).catch((function(e){}))},onCancel:function(){D.resetFields(),J(!1)},width:800,children:(0,j.jsxs)(o.Z,{form:D,layout:"vertical",children:[(0,j.jsx)(o.Z.Item,{name:"id",label:"\u4e3b\u952e",hidden:!0,children:(0,j.jsx)(Z.Z,{})}),(0,j.jsx)(o.Z.Item,{name:"subjectId",label:"\u4e13\u9898\u7c7b\u522b",hidden:!0,children:(0,j.jsx)(Z.Z,{})}),(0,j.jsx)(o.Z.Item,{name:"name",label:"\u9879\u76ee\u540d\u79f0",rules:[{required:!0,message:"\u9879\u76ee\u540d\u79f0\u5fc5\u987b\u8f93\u5165"}],children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0",maxLength:50})}),(0,j.jsx)(o.Z.Item,{name:"lawTitle",label:"\u6cd5\u5f8b\u6761\u6b3e",rules:[{required:!0,message:"\u6cd5\u5f8b\u6761\u6b3e\u5fc5\u987b\u8f93\u5165"}],children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u8f93\u5165\u6cd5\u5f8b\u6761\u6b3e",maxLength:50})}),(0,j.jsx)(o.Z.Item,{name:"lawContent",label:"\u6cd5\u5f8b\u8be6\u60c5",rules:[{required:!0,message:"\u6cd5\u5f8b\u8be6\u60c5\u5fc5\u987b\u8f93\u5165"}],children:(0,j.jsx)(Z.Z.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u6cd5\u5f8b\u8be6\u60c5",style:{height:260}})})]})})]})}},9201:function(e,n,t){t.d(n,{G:function(){return r},n:function(){return a}});var a="loginUserToken",r="consoleNavigateTabs"},1953:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),r=t(2791),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},o=t(4291),i=function(e,n){return r.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:l}))};i.displayName="BookOutlined";var s=r.forwardRef(i)},6110:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),r=t(2791),l={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zM232 888V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752H232z",fill:e}},{tag:"path",attrs:{d:"M668 345.9V136h-96v211.4l49.5-35.4z",fill:n}},{tag:"path",attrs:{d:"M727.9 136v296.5c0 8.8-7.2 16-16 16-3.4 0-6.7-1.1-9.4-3.1L621.1 386l-83.8 59.9a15.9 15.9 0 01-22.3-3.7c-2-2.7-3-6-3-9.3V136H232v752h559.9V136h-64z",fill:n}}]}},name:"book",theme:"twotone"},o=t(4291),i=function(e,n){return r.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:l}))};i.displayName="BookTwoTone";var s=r.forwardRef(i)},1783:function(e,n,t){var a=t(7462),r=t(9439),l=t(2791),o=t(8368),i=t(7309),s=t(2571);function c(e){return!(!e||!e.then)}n.Z=function(e){var n=l.useRef(!1),t=l.useRef(),u=(0,o.Z)(!1),d=(0,r.Z)(u,2),f=d[0],m=d[1];l.useEffect((function(){var n;if(e.autoFocus){var a=t.current;n=setTimeout((function(){return a.focus()}))}return function(){n&&clearTimeout(n)}}),[]);var h=e.type,p=e.children,v=e.prefixCls,Z=e.buttonProps;return l.createElement(i.Z,(0,a.Z)({},(0,s.n)(h),{onClick:function(t){var a=e.actionFn,r=e.close;if(!n.current)if(n.current=!0,a){var l;if(e.emitEvent){if(l=a(t),e.quitOnNullishReturnValue&&!c(l))return n.current=!1,void r(t)}else if(a.length)l=a(r),n.current=!1;else if(!(l=a()))return void r();!function(t){var a=e.close;c(t)&&(m(!0),t.then((function(){m(!1,!0),a.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),m(!1,!0),n.current=!1})))}(l)}else r()},loading:f,prefixCls:v},Z,{ref:t}),p)}},6038:function(e,n,t){var a=t(7462),r=t(9439),l=t(2791),o=t(1694),i=t.n(o),s=t(5179),c=t(187),u=t(1354),d=t(9220),f=t(7309),m=t(2571),h=t(3486),p=t(3578),v=t(9077),Z=t(7924),x=t(1113),b=t(9464),g=t(1783),j=void 0,y=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},k=l.forwardRef((function(e,n){var t=l.useContext(v.E_).getPrefixCls,o=(0,s.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=(0,r.Z)(o,2),k=c[0],w=c[1],N=function(n,t){var a;w(n,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,n,t)},C=function(e){N(!1,e)},L=function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(j,n)},T=function(n){var t;N(!1,n),null===(t=e.onCancel)||void 0===t||t.call(j,n)},V=e.prefixCls,E=e.placement,z=e.children,I=e.overlayClassName,F=y(e,["prefixCls","placement","children","overlayClassName"]),S=t("popover",V),P=t("popconfirm",V),O=i()(P,I),R=l.createElement(h.Z,{componentName:"Popconfirm",defaultLocale:p.Z.Popconfirm},(function(n){return function(n,r){var o=e.okButtonProps,i=e.cancelButtonProps,s=e.title,c=e.cancelText,u=e.okText,d=e.okType,h=e.icon,p=e.showCancel,v=void 0===p||p;return l.createElement("div",{className:"".concat(n,"-inner-content")},l.createElement("div",{className:"".concat(n,"-message")},h,l.createElement("div",{className:"".concat(n,"-message-title")},(0,Z.Z)(s))),l.createElement("div",{className:"".concat(n,"-buttons")},v&&l.createElement(f.Z,(0,a.Z)({onClick:T,size:"small"},i),c||r.cancelText),l.createElement(g.Z,{buttonProps:(0,a.Z)((0,a.Z)({size:"small"},(0,m.n)(d)),o),actionFn:L,close:C,prefixCls:t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},u||r.okText)))}(S,n)})),q=t();return l.createElement(d.Z,(0,a.Z)({},F,{prefixCls:S,placement:E,onVisibleChange:function(n){e.disabled||N(n)},visible:k,overlay:R,overlayClassName:O,ref:n,transitionName:(0,b.mL)(q,"zoom-big",e.transitionName)}),(0,x.Tm)(z,{onKeyDown:function(e){var n,t;l.isValidElement(z)&&(null===(t=null===z||void 0===z?void 0:(n=z.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===u.Z.ESC&&k&&N(!1,e)}(e)}}))}));k.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:l.createElement(c.Z,null),disabled:!1},n.Z=k}}]);
//# sourceMappingURL=643.931b97ff.chunk.js.map