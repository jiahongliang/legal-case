"use strict";(self.webpackChunkweb_console=self.webpackChunkweb_console||[]).push([[240],{7111:function(e,n,t){t.d(n,{Xn:function(){return c},nL:function(){return i}});var r=t(4569),o=t.n(r),a=t(3695),l=t(390),s=t(9201);o().defaults.timeout=6e4,o().defaults.baseURL="/legal-case";var i=o().create({}),c=o().create({contentType:"application/x-www-form-urlencoded;charset=UTF-8",transformRequest:[function(e){var n="";for(var t in e)n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&";return n=n.substring(0,n.lastIndexOf("&"))}],headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}),u=o().create({headers:{"content-type":"multipart/form-data"}});function d(e){var n=(0,l.lX)();e.interceptors.request.use((function(e){return e.headers.token="token",e}),(function(e){Promise.reject(e)})),e.interceptors.response.use((function(e){var n,t=e,r=t.data.code;return r?1e4===r?t.data:(n="".concat(t.data.msg),void m(new Error(n))):t}),(function(e){var t=!1;if(e&&e.response)switch(e.response.status){case 400:e.message="\u8bf7\u6c42\u9519\u8bef";break;case 401:e.message="\u672a\u767b\u5f55\u6216\u767b\u5f55\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",t=!0;break;case 403:e.message="\u62d2\u7edd\u8bbf\u95ee";break;case 404:e.message="\u8bf7\u6c42\u5730\u5740\u51fa\u9519: ".concat(e.response.config.url);break;case 408:e.message="\u8bf7\u6c42\u8d85\u65f6";break;case 500:e.message="\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef";break;case 501:e.message="\u670d\u52a1\u672a\u5b9e\u73b0";break;case 502:e.message="\u7f51\u5173\u9519\u8bef";break;case 503:e.message="\u670d\u52a1\u4e0d\u53ef\u7528";break;case 504:e.message="\u7f51\u5173\u8d85\u65f6";break;case 505:e.message="HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301"}return m(e),t&&setTimeout((function(){sessionStorage.removeItem(s.n),n.push("/"),n.go()}),1e3),Promise.reject(e)}))}function m(e){a.ZP.error(e.message)}d(c),d(i),d(u)},7735:function(e,n,t){t.d(n,{JR:function(){return c},Lh:function(){return s},Uy:function(){return u},a$:function(){return d},c0:function(){return m},gQ:function(){return l},kS:function(){return a},ul:function(){return i},x4:function(){return o}});var r=t(7111),o=function(e){var n={loginToken:e};return(0,r.Xn)({url:"/login",data:n,method:"post"})},a=function(){return(0,r.Xn)({url:"/logout",method:"get"})},l=function(e){var n={params:e};return(0,r.Xn)({url:"/user/update-password",data:n,method:"post"})},s=function(e){return(0,r.nL)({url:"/user/list",data:e,method:"post"})},i=function(e){return(0,r.nL)({url:"/user/action",data:e,method:"post"})},c=function(e){return(0,r.nL)({url:"/user/update",data:e,method:"post"})},u=function(){return(0,r.nL)({url:"/role/list",method:"get"})},d=function(e){return(0,r.nL)({url:"/user/register",data:e,method:"post"})},m=function(e){return(0,r.nL)({url:"/user/reset-password",data:e,method:"post"})}},240:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(1413),o=t(9439),a=t(2791),l=t(6435),s=t(8678),i=t(3272),c=t(7528),u=t(3099),d=t(7309),m=t(6038),f=t(3695),p=t(2014),h=t(7751),g=t(8894),x=t(7063),Z=t(7735),v=t(184),b=l.Z.Option,j=s.Z.TextArea,y=[{label:"\u6b63\u5e38",value:"1"},{label:"\u9501\u5b9a",value:"2"}],C=function(){var e=i.Z.useForm(),n=(0,o.Z)(e,1)[0],t=(0,a.useState)(!1),C=(0,o.Z)(t,2),k=C[0],w=C[1],T=(0,a.useState)([]),I=(0,o.Z)(T,2),N=I[0],P=I[1],S=(0,a.useState)(null),E=(0,o.Z)(S,2),L=E[0],z=E[1],F=(0,a.useState)(1),O=(0,o.Z)(F,2),R=O[0],V=O[1],q=(0,a.useState)(10),H=(0,o.Z)(q,2),U=H[0],X=H[1],A=(0,a.useState)([]),G=(0,o.Z)(A,2),M=G[0],_=G[1],B=(0,a.useState)(!1),J=(0,o.Z)(B,2),K=J[0],D=J[1],Q=i.Z.useForm(),$=(0,o.Z)(Q,1)[0],W=(0,a.useState)(null),Y=(0,o.Z)(W,2),ee=Y[0],ne=Y[1],te=(0,a.useState)({code:null,msg:null}),re=(0,o.Z)(te,2),oe=re[0],ae=re[1],le=(0,a.useState)([]),se=(0,o.Z)(le,2),ie=se[0],ce=se[1],ue=[{title:"\u59d3\u540d",dataIndex:"name",onHeaderCell:function(e){e.align="center"}},{title:"\u6027\u522b",dataIndex:"gender",onHeaderCell:function(e){e.align="center"}},{title:"\u5355\u4f4d",dataIndex:"deptName",onHeaderCell:function(e){e.align="center"}},{title:"\u624b\u673a",dataIndex:"mobile",onHeaderCell:function(e){e.align="center"}},{title:"\u89d2\u8272",dataIndex:"role",onHeaderCell:function(e){e.align="center"},render:function(e,n){return n.role&&n.role.length>0?n.role.split(",").map((function(e){return(0,v.jsx)(c.Z,{children:ie&&ie.length>0?ie.find((function(n){return n.code===e})).name:" "},e)})):""}},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"createdTime",onHeaderCell:function(e){e.align="center"}},{title:"\u72b6\u6001",dataIndex:"status",onHeaderCell:function(e){e.align="center"},render:function(e,n){return 1===n.status?(0,v.jsx)("span",{style:{color:"green"},children:"\u6b63\u5e38"}):2===n.status?(0,v.jsx)("span",{style:{color:"Gray"},children:"\u9501\u5b9a"}):0===n.status?(0,v.jsx)("span",{style:{color:"Chartreuse"},children:"\u672a\u786e\u8ba4"}):-1===n.status?(0,v.jsx)("span",{style:{color:"red"},children:"\u5df2\u62d2\u7edd"}):void 0}},{title:"\u64cd\u4f5c",key:"action",render:function(e,n){return(0,v.jsxs)(u.Z,{size:"middle",children:[(0,v.jsx)(d.Z,{size:"small",onClick:function(){return fe(n)},children:"\u4fee\u6539"}),1===n.status?(0,v.jsx)(m.Z,{placement:"left",title:"\u9501\u5b9a\u540e\u7528\u6237\u4e0d\u53ef\u4ee5\u6b63\u5e38\u767b\u5f55\u7cfb\u7edf\uff0c\u786e\u5b9a\u9501\u5b9a\u8be5\u7528\u6237\u5417\uff1f",onConfirm:function(){return pe(n)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:(0,v.jsx)(d.Z,{size:"small",children:"\u9501\u5b9a"})}):"",2===n.status?(0,v.jsx)(m.Z,{placement:"left",title:"\u89e3\u9501\u540e\u7528\u6237\u53ef\u4ee5\u6b63\u5e38\u767b\u5f55\u7cfb\u7edf,\u786e\u5b9a\u89e3\u9501\u8be5\u7528\u6237\u5417?",onConfirm:function(){return he(n)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:(0,v.jsx)(d.Z,{size:"small",children:"\u89e3\u9501"})}):""]})},align:"center",width:100}];(0,a.useEffect)((function(){me(),de()}),[]);var de=function(){(0,Z.Uy)().then((function(e){ce(e.rows)}))},me=function(){w(!0);var e=n.getFieldsValue(),t={entity:{name:e.name,deptName:e.deptName},where:e.status&&e.status.length>0?[{field:"status",opt:"in",value:e.status.join()}]:[{field:"status",opt:"in",value:"1,2"}],pageNum:R-1,pageSize:U,orderBy:"createdTime desc"};(0,Z.Lh)(t).then((function(e){P(e.rows),z(e.total)})),w(!1)},fe=function(e){D(!0),$.setFieldsValue(e),e.role&&e.role.length>0&&$.setFieldsValue({roleArray:e.role.split(",")}),ne(e.id)},pe=function(e){var n={entity:{id:e.id},ext:"lock"};(0,Z.ul)(n).then((function(e){f.ZP.success(e.msg),me()}))},he=function(e){var n={entity:{id:e.id},ext:"unlock"};(0,Z.ul)(n).then((function(e){f.ZP.success(e.msg),me()}))},ge=function(){D(!1),$.resetFields(),ne(null),ae({code:null,msg:null})};return(0,v.jsxs)("div",{className:"user-manage-wrapper",children:[(0,v.jsxs)(i.Z,{form:n,initialValues:{status:["1","2"]},layout:"inline",className:"search-form",onFinish:function(){me()},children:[(0,v.jsx)(i.Z.Item,{name:"name",label:"\u59d3\u540d",children:(0,v.jsx)(s.Z,{maxLength:10,placeholder:"\u59d3\u540d",size:"small"})}),(0,v.jsx)(i.Z.Item,{name:"deptName",label:"\u90e8\u95e8",children:(0,v.jsx)(s.Z,{maxLength:10,placeholder:"\u90e8\u95e8\u540d\u79f0",size:"small"})}),(0,v.jsx)(i.Z.Item,{name:"status",label:"\u72b6\u6001",children:(0,v.jsx)(p.Z.Group,{options:y})}),(0,v.jsx)(i.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,v.jsx)(d.Z,{type:"primary",size:"small",htmlType:"submit",children:"\u67e5\u8be2"})}),(0,v.jsx)(i.Z.Item,{wrapperCol:{offset:24,span:24},children:(0,v.jsx)(d.Z,{size:"small",onClick:function(){if(M&&M.length>0){var e={entity:M};(0,Z.c0)(e).then((function(e){0===e.subCode?f.ZP.success(e.subMsg):f.ZP.error(e.subMsg)}))}},children:"\u91cd\u7f6e\u5bc6\u7801"})})]}),(0,v.jsx)(h.Z,{columns:ue,dataSource:N,loading:k,pagination:{position:["bottomRight"],total:L,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171".concat(e,"\u6761")},size:"small",current:R,pageSize:U,onChange:function(e,n,t,r){V(e),X(n),me()}},scroll:{scrollToFirstRowOnChange:!0,x:!0},bordered:"true",size:"small",rowKey:"id",rowSelection:{type:"checkbox",onChange:function(e,n,t){_(e)}}}),(0,v.jsx)(g.Z,{title:"\u4fee\u6539\u7528\u6237\u4fe1\u606f",placement:"right",width:400,visible:K,onClose:ge,children:null==oe.code?(0,v.jsxs)(i.Z,{form:$,layout:"vertical",onFinish:function(e){var n={entity:(0,r.Z)({id:ee,role:e.roleArray.join(",")},e)};(0,Z.JR)(n).then((function(e){0===e.subCode?(ae({code:"success",msg:e.subMsg}),me()):ae({code:"error",msg:e.subMsg})}))},children:[(0,v.jsx)(i.Z.Item,{name:"name",label:"\u59d3\u540d",tooltip:"\u8bf7\u8f93\u5165\u7528\u6237\u59d3\u540d",rules:[{required:!0,message:"\u59d3\u540d\u5fc5\u987b\u8f93\u5165"}],children:(0,v.jsx)(s.Z,{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",maxLength:50})}),(0,v.jsx)(i.Z.Item,{name:"gender",label:"\u6027\u522b",tooltip:"\u8bf7\u9009\u62e9\u6027\u522b",rules:[{required:!0,message:"\u6027\u522b\u5fc5\u987b\u9009\u62e9"}],children:(0,v.jsxs)(l.Z,{children:[(0,v.jsx)(b,{value:"\u7537",children:"\u7537"}),(0,v.jsx)(b,{value:"\u5973",children:"\u5973"})]})}),(0,v.jsx)(i.Z.Item,{name:"deptName",label:"\u5355\u4f4d\u540d\u79f0",tooltip:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0",rules:[{required:!0,message:"\u5355\u4f4d\u540d\u79f0\u5fc5\u987b\u8f93\u5165"}],children:(0,v.jsx)(s.Z,{placeholder:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0",maxLength:50})}),(0,v.jsx)(i.Z.Item,{name:"mobile",label:"\u624b\u673a\u53f7\u7801",tooltip:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",rules:[{required:!0,message:"\u624b\u673a\u53f7\u7801\u5fc5\u987b\u8f93\u5165"}],children:(0,v.jsx)(s.Z,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",maxLength:20})}),(0,v.jsx)(i.Z.Item,{name:"roleArray",label:"\u89d2\u8272",tooltip:"\u8bf7\u9009\u62e9\u89d2\u8272",rules:[{required:!0,message:"\u7528\u6237\u5fc5\u987b\u6709\u81f3\u5c11\u4e00\u4e2a\u89d2\u8272"}],children:(0,v.jsx)(p.Z.Group,{children:ie.map((function(e){return(0,v.jsx)(p.Z,{value:e.code,children:e.name},e.id)}))})}),(0,v.jsx)(i.Z.Item,{name:"memo",label:"\u5907\u6ce8",tooltip:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f",children:(0,v.jsx)(j,{rows:4})}),(0,v.jsxs)(i.Z.Item,{wrapperCol:{offset:6,span:20},children:[(0,v.jsx)(d.Z,{type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})," \xa0",(0,v.jsx)(d.Z,{onClick:ge,children:"\u53d6\u6d88"})]})]}):(0,v.jsx)(x.ZP,{status:oe.code,title:oe.msg,extra:[(0,v.jsx)(d.Z,{onClick:ge,children:"\u5173\u95ed"},"btn_"+oe.code)]})})]})}},9201:function(e,n,t){t.d(n,{G:function(){return o},n:function(){return r}});var r="loginUserToken",o="consoleNavigateTabs"},1783:function(e,n,t){var r=t(7462),o=t(9439),a=t(2791),l=t(8368),s=t(7309),i=t(2571);function c(e){return!(!e||!e.then)}n.Z=function(e){var n=a.useRef(!1),t=a.useRef(),u=(0,l.Z)(!1),d=(0,o.Z)(u,2),m=d[0],f=d[1];a.useEffect((function(){var n;if(e.autoFocus){var r=t.current;n=setTimeout((function(){return r.focus()}))}return function(){n&&clearTimeout(n)}}),[]);var p=e.type,h=e.children,g=e.prefixCls,x=e.buttonProps;return a.createElement(s.Z,(0,r.Z)({},(0,i.n)(p),{onClick:function(t){var r=e.actionFn,o=e.close;if(!n.current)if(n.current=!0,r){var a;if(e.emitEvent){if(a=r(t),e.quitOnNullishReturnValue&&!c(a))return n.current=!1,void o(t)}else if(r.length)a=r(o),n.current=!1;else if(!(a=r()))return void o();!function(t){var r=e.close;c(t)&&(f(!0),t.then((function(){f(!1,!0),r.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),f(!1,!0),n.current=!1})))}(a)}else o()},loading:m,prefixCls:g},x,{ref:t}),h)}},6038:function(e,n,t){var r=t(7462),o=t(9439),a=t(2791),l=t(1694),s=t.n(l),i=t(5179),c=t(187),u=t(1354),d=t(9220),m=t(7309),f=t(2571),p=t(3486),h=t(3578),g=t(9077),x=t(7924),Z=t(1113),v=t(9464),b=t(1783),j=void 0,y=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},C=a.forwardRef((function(e,n){var t=a.useContext(g.E_).getPrefixCls,l=(0,i.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=(0,o.Z)(l,2),C=c[0],k=c[1],w=function(n,t){var r;k(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,t)},T=function(e){w(!1,e)},I=function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(j,n)},N=function(n){var t;w(!1,n),null===(t=e.onCancel)||void 0===t||t.call(j,n)},P=e.prefixCls,S=e.placement,E=e.children,L=e.overlayClassName,z=y(e,["prefixCls","placement","children","overlayClassName"]),F=t("popover",P),O=t("popconfirm",P),R=s()(O,L),V=a.createElement(p.Z,{componentName:"Popconfirm",defaultLocale:h.Z.Popconfirm},(function(n){return function(n,o){var l=e.okButtonProps,s=e.cancelButtonProps,i=e.title,c=e.cancelText,u=e.okText,d=e.okType,p=e.icon,h=e.showCancel,g=void 0===h||h;return a.createElement("div",{className:"".concat(n,"-inner-content")},a.createElement("div",{className:"".concat(n,"-message")},p,a.createElement("div",{className:"".concat(n,"-message-title")},(0,x.Z)(i))),a.createElement("div",{className:"".concat(n,"-buttons")},g&&a.createElement(m.Z,(0,r.Z)({onClick:N,size:"small"},s),c||o.cancelText),a.createElement(b.Z,{buttonProps:(0,r.Z)((0,r.Z)({size:"small"},(0,f.n)(d)),l),actionFn:I,close:T,prefixCls:t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},u||o.okText)))}(F,n)})),q=t();return a.createElement(d.Z,(0,r.Z)({},z,{prefixCls:F,placement:S,onVisibleChange:function(n){e.disabled||w(n)},visible:C,overlay:V,overlayClassName:R,ref:n,transitionName:(0,v.mL)(q,"zoom-big",e.transitionName)}),(0,Z.Tm)(E,{onKeyDown:function(e){var n,t;a.isValidElement(E)&&(null===(t=null===E||void 0===E?void 0:(n=E.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===u.Z.ESC&&C&&w(!1,e)}(e)}}))}));C.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:a.createElement(c.Z,null),disabled:!1},n.Z=C}}]);
//# sourceMappingURL=240.a4be2887.chunk.js.map